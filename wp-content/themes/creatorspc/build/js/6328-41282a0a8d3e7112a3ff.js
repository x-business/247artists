"use strict";(self.webpackChunkcreatorspc=self.webpackChunkcreatorspc||[]).push([[6328],{6328:(e,t,i)=>{i.r(t);var n=i(8760),s=i(8520),r=i(314),o=i(6560);function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(i||e):s.value}},c(e,t,i||e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=h(e);if(t){var s=h(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return function(e,t){return!t||"object"!=((i=t)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var i}(this,i)}}s.w$.registerPlugin(r.c,o.c),window.plr.controllers.SMessageHome=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,e);var t,i,n=u(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}return t=r,(i=[{key:"init",value:function(){c(h(r.prototype),"init",this).call(this);var e=this.refs.canvas;this.ctx=e.getContext("2d"),this.render={width:window.safeWidth,height:window.safeHeight,dpi:window.devicePixelRatio},this.totalLines=7,this.isPaused=!1,this.setCanvasSize(),luge&&(luge.emitter.once("beforePageInit",this.setSize.bind(this)),luge.emitter.once("beforePageInit",this.initScroll.bind(this)))}},{key:"onResize",value:function(){this.setSize(),this.initScroll(),this.setCanvasSize()}},{key:"onViewportIn",value:function(){this.isPaused=!1}},{key:"onViewportOut",value:function(){this.isPaused=!0}},{key:"setCanvasSize",value:function(){var e=this.refs.canvas;this.render={width:window.safeWidth,height:window.safeHeight,dpi:window.devicePixelRatio},e.width=this.render.width*this.render.dpi,e.height=this.render.height*this.render.dpi,this.lineWidth=window.safeWidth/(this.totalLines-1),this.lineSmallWidth=.4*this.lineWidth}},{key:"setSize",value:function(){var e=this.refs,t=e.message1,i=e.sentence1Text1,n=e.sentence1Text2,s=e.sentence2,r=e.sentence3Text1,a=e.sentence3Text2;this.sentence1St&&this.sentence1St.revert(),this.sentence1St=new o.c([i,n],{type:"chars,words,lines",linesClass:"line",wordsClass:"word",charsClass:"char"}),this.sentence2St&&this.sentence2St.revert(),this.sentence2St=new o.c(s,{type:"chars,words,lines",linesClass:"line",wordsClass:"word",charsClass:"char"}),this.sentence3St&&this.sentence3St.revert(),this.sentence3St=new o.c([r,a],{type:"chars,words,lines",linesClass:"line",wordsClass:"word",charsClass:"char"});var c=t.getBoundingClientRect(),h=i.getBoundingClientRect(),l=n.getBoundingClientRect();this.m1Scale=window.safeWidth/Math.max(h.width,l.width),this.m1t2Offset=(h.width-l.width)/2,t.style.setProperty("--offset","".concat(this.m1t2Offset,"px")),t.style.setProperty("--scale","".concat(this.m1Scale));var u=window.getComputedStyle(i);this.isCentered="center"===u.textAlign;var f=c.left+(this.isCentered?c.width/2:0),d=c.top+c.height/2;this.sentence1St.words.forEach((function(e){var t=e.getBoundingClientRect(),i=t.left+t.width/2,n=t.top+t.height/2,s=f-i,r=d-n;e.style.setProperty("--origin-x","".concat(.9*s,"px")),e.style.setProperty("--origin-y","".concat(.9*r,"px"))}))}},{key:"initScroll",value:function(){var e=this.refs,t=e.message1,i=e.message2,n=e.sentence1Text2,r=e.sentence3Text1,o=e.sentence3Text2;this.tl&&this.tl.revert(),this.tl=s.w$.timeline({scrollTrigger:{trigger:this.el,start:"top 0%",end:"bottom 0%",scrub:.25}}),this.tl.fromTo(t,{y:window.safeHeight},{y:0,duration:.85,ease:"expo.out"},.5),this.tl.to(t.querySelectorAll(".word"),{scale:1,duration:.1,ease:"expo.inOut",stagger:{each:.05}},1.5),this.tl.to(this,{lineWidth:this.lineSmallWidth,duration:1,ease:"expo.inOut"},1),window.safeWidth>987?(this.tl.from(this.sentence2St.lines,{opacity:0,x:this.m1t2Offset,duration:.4,ease:"expo.out",stagger:.02},2.175),this.tl.to(n,{x:-1*this.m1t2Offset,duration:.4,ease:"expo.inOut"},2)):this.tl.fromTo(this.sentence2St.lines,{opacity:0,y:"100%"},{opacity:1,y:0,duration:.5,ease:"power3.out",stagger:.05},2.1),this.tl.to(t,{y:-1*window.safeHeight,duration:.65,ease:"expo.in"},2.5),this.tl.fromTo([r,o],{y:1*window.safeHeight},{y:0,duration:.85,ease:"expo.out",stagger:{each:.05}},3),this.tl.to(i,{y:"-300%",duration:2,ease:"power3.in"},3),this.tl.to(this,{lineWidth:.75*this.lineSmallWidth,duration:2,ease:"power4.in"},3)}},{key:"setLines",value:function(){this.lines=[];for(var e=window.safeWidth/this.totalLines,t=0;t<this.totalLines;t++)this.lines.push({x:t*e})}},{key:"drawLines",value:function(){for(var e=this,t=e.ctx,i=e.lineWidth,n=e.totalLines,s=i*(n-1),r=(window.safeWidth-s)/2,o=0;o<n;o++){var a=r+o*i;t.beginPath(),t.moveTo(a,0),t.lineTo(a,window.safeHeight),t.strokeStyle="#231E2555",t.stroke(),t.closePath()}}},{key:"tick",value:function(e){if(!this.isPaused){var t=this.refs.canvas,i=this.ctx,n=this.render;i.clearRect(0,0,t.width,t.height),i.save(),i.scale(n.dpi,n.dpi),this.drawLines(),i.restore()}}}])&&a(t.prototype,i),r}(n.c)}}]);