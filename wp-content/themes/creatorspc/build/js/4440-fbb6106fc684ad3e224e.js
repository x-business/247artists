"use strict";(self.webpackChunkcreatorspc=self.webpackChunkcreatorspc||[]).push([[4440],{4440:(t,i,e)=>{e.r(i);var s=e(8760),h=e(8520),n=e(314),r=e(6560);function a(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function c(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),t}function l(t,i,e){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,i,e){var s=function(t,i){for(;!Object.prototype.hasOwnProperty.call(t,i)&&null!==(t=u(t)););return t}(t,i);if(s){var h=Object.getOwnPropertyDescriptor(s,i);return h.get?h.get.call(e||t):h.value}},l(t,i,e||t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function d(t,i){return d=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},d(t,i)}function y(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,s=u(t);if(i){var h=u(this).constructor;e=Reflect.construct(s,arguments,h)}else e=s.apply(this,arguments);return function(t,i){return!i||"object"!=((e=i)&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i;var e}(this,e)}}h.w$.registerPlugin(n.c,r.c),window.plr.controllers.SHeroHome=function(t){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&d(t,i)}(e,t);var i=y(e);function e(){return a(this,e),i.apply(this,arguments)}return c(e,[{key:"init",value:function(){l(u(e.prototype),"init",this).call(this);var t=this.refs.canvas;this.ctx=t.getContext("2d"),this.render={width:window.safeWidth,height:window.safeHeight,dpi:window.devicePixelRatio},this.mouse={x:-1,y:-1,sx:-1,sy:-1,lx:-1,ly:-1,vx:0,vy:0,svx:0,svy:0},this.scroll={y:0,sy:0},this.head={x:.5*this.width,y:.5*this.height,mx:0,my:0},this.offsetY=0,this.setBounding(),this.setCanvasSize(),this.setClipPaths(),this.setCircles(),this.imagesIndex=0,this.images=[],this.imagesUrls=JSON.parse(this.el.dataset.images),this.lastEmit={x:0,y:0,scrollY:0,time:0},this.isPaused=!1,this.isInit=!1,this.isSleeping=!0,this.sleepTimeout=null,this.sleep()}},{key:"bindEvents",value:function(){l(u(e.prototype),"bindEvents",this).call(this),this.callbacks.onScroll=this.onScroll.bind(this),this.on(this.el,"scroll",this.callbacks.onScroll)}},{key:"onResize",value:function(){this.setBounding(),this.setCanvasSize(),this.setClipPaths(),this.setCircles(),this.isInit&&this.initScroll()}},{key:"onMouseMove",value:function(t){var i=this.mouse,e=this.scroll,s=t.pageX,h=t.pageY-e.y;i.x=s,i.y=h,i.vx=Math.max(Math.min(i.x-i.lx,10),-10),i.vy=Math.max(Math.min(i.y-i.ly,10),-10),i.svx+=.1*(i.vx-i.svx),i.svy+=.1*(i.vy-i.svy),i.lx=i.x,i.ly=i.y,this.isInit&&this.wake()}},{key:"onScroll",value:function(){var t=this.mouse,i=this.scroll,e=i.y>i.sy?"down":"up";i.y=window.scrollY,t.x=.5*this.width,t.y="down"===e?.75*this.height:.25*this.height,t.lx=t.x,t.ly=t.y,t.vx=0,t.vy=0,this.isInit?this.wake():this.initScroll()}},{key:"onViewportIn",value:function(){this.isPaused=!1}},{key:"onViewportOut",value:function(){this.isPaused=!0}},{key:"sleep",value:function(){this.isSleeping=!0,this.head.x=.5*this.width,this.head.y=.5*this.height}},{key:"wake",value:function(){this.isSleeping=!1,clearTimeout(this.sleepTimeout),this.sleepTimeout=setTimeout(this.sleep.bind(this),3e3)}},{key:"setBounding",value:function(){var t=this.refs.inner;this.innerRect=t.getBoundingClientRect(),this.size=.125*Math.hypot(this.innerRect.width,this.innerRect.height),this.spacing=.5*this.size,this.rect=this.el.getBoundingClientRect(),this.top=this.rect.top-this.scroll.y,this.width=this.innerRect.width,this.hWidth=this.width/2,this.height=this.innerRect.height,this.hHeight=this.height/2}},{key:"setCanvasSize",value:function(){var t=this.refs.canvas;this.render={width:this.innerRect.width,height:this.innerRect.height,dpi:window.devicePixelRatio},t.width=this.render.width*this.render.dpi,t.height=this.render.height*this.render.dpi}},{key:"setCircles",value:function(){var t=this.clipPathWidth;this.circles=[],this.center={x:1.1*this.innerRect.width,y:this.innerRect.height};var i=Math.hypot(this.center.x,this.center.y),e=this.center.x-this.innerRect.width,s=this.center.x-.5*this.innerRect.width,h=.45*this.center.x,n=100,r=s;this.circles.push({x:this.center.x,y:this.center.y,r,toR:r});for(var a=1;r<i;){r+=n,n*=1.1;var o=s+t*a;this.circles.push({x:this.center.x,y:this.center.y,r,toR:o}),a++}for(r=s-(n=100),a=1;r>e;){var c=Math.max(s-t*a,0);this.circles.push({x:this.center.x,y:this.center.y,r,toR:c}),n*=(r-=n)>h?.9:.75,n=Math.max(n,10),a++}}},{key:"setClipPaths",value:function(){this.clipPaths=[],this.clipPathWidth=this.innerRect.width/6;for(var t=0;t<6;t++)this.clipPaths.push({x:this.clipPathWidth*t,height:this.innerRect.height})}},{key:"initScroll",value:function(){var t=this,i=this.height,e=this.refs.title;this.tl&&this.tl.revert(),this.titleSt&&this.titleSt.revert(),this.titleSt=new r.c(e,{type:"chars,words,lines",linesClass:"line",wordsClass:"word",charsClass:"char"}),this.tl=h.w$.timeline({scrollTrigger:{trigger:this.el,start:"top 0%",end:"bottom 100%",scrub:.25}}),this.tl.fromTo(this,{offsetY:0},{offsetY:i,duration:2,ease:"linear"},0),this.tl.to(this.circles,{r:function(i){return t.circles[i].toR},duration:2,ease:"power1.inOut"},0),this.tl.to(this.titleSt.words,{x:-1*window.safeWidth,ease:"power3.in",duration:1,stagger:{each:"0.05"}},0),this.tl.to(this.clipPaths,{height:0,duration:.5,ease:"power3.inOut",stagger:{each:.1,from:"random"}},2.5),this.timelines.push(this.tl),this.isInit=!0}},{key:"drawCircles",value:function(){var t=this,i=t.circles,e=t.ctx,s=t.offsetY;i.forEach((function(t){e.beginPath(),e.arc(t.x,t.y-s,t.r,Math.PI,2*Math.PI),e.strokeStyle="#423E44",e.stroke(),e.closePath()}))}},{key:"drawLines",value:function(){var t=this,i=t.circles,e=t.ctx,s=t.offsetY,h=t.render;i.forEach((function(t){var i={x:t.x-t.r,y:t.y-s},n={x:i.x,y:h.height};e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(n.x,n.y),e.strokeStyle="#423E44",e.stroke(),e.closePath()}))}},{key:"drawClipPath",value:function(){var t=this,i="";this.clipPaths.forEach((function(e,s){i+="M ".concat(e.x," ").concat(e.height," h ").concat(t.clipPathWidth," v -").concat(e.height," h -").concat(t.clipPathWidth," Z ")})),this.el.style.setProperty("--clip-path","path('".concat(i,"')"))}},{key:"emitImage",value:function(){var t=this,i=t.mouse,e=t.scroll,s=t.spacing;if(!(this.images.length>=20||-1===i.x&&-1===i.y&&!this.isSleeping)){var h=!1,n=0,r=0;if(this.isSleeping?(n=this.head.x+this.head.mx,r=this.head.y+this.head.my):(n=i.sx,r=i.sy),0===this.lastEmit.x&&0===this.lastEmit.y)h=!0;else{var a=n-this.lastEmit.x,o=r-this.lastEmit.y-(e.sy-this.lastEmit.scrollY);Math.hypot(a,o)>s&&(h=!0)}if(h){var c=this.imagesUrls[this.imagesIndex],l=0,u=0;this.isSleeping?(l=5,u=-5):(l=i.svx,u=i.svy);var d=new f(c,n,r,l,u,this.size,this);this.images.push(d),this.imagesIndex++,this.imagesIndex>=this.imagesUrls.length&&(this.imagesIndex=0),this.lastEmit.x=n,this.lastEmit.y=r,this.lastEmit.scrollY=e.sy,this.lastEmit.time=performance.now()}}}},{key:"tick",value:function(t){if(!this.isPaused){var i=this.refs.canvas,e=this,s=e.ctx,h=e.mouse,n=e.scroll,r=e.render;h.sx+=.5*(h.x-h.sx),h.sy+=.5*(h.y-h.sy),n.sy+=.1*(n.y-n.sy),this.head.mx=Math.cos(5e-4*(t-3e3))*(this.width-this.size)*.5,this.head.my=Math.sin(.001*t)*this.height*.1,s.clearRect(0,0,i.width,i.height),s.save(),s.scale(r.dpi,r.dpi),this.drawCircles(),this.drawLines(),this.drawClipPath(),this.images.forEach((function(t){t.move(),t.draw()})),this.emitImage(),s.restore()}}}]),e}(s.c);var f=function(){function t(i,e,s,h,n,r,o){a(this,t),this.src=i,this.slices=10,this.corner=2,this.x=e,this.y=s,this.vx=h,this.vy=n,this.scrollY=o.scroll.sy,this.opacity=1,this.visibility=1,this.size=r,this.parent=o,this.isLoaded=!1,this.loadImage()}return c(t,[{key:"loadImage",value:function(){this.image=new window.Image,this.image.src=this.src,this.image.addEventListener("load",this.init.bind(this),{once:!0})}},{key:"init",value:function(){this.setSizes(),this.setClipPaths(),this.animate(),this.isLoaded=!0}},{key:"setSizes",value:function(){this.aspectRatio=1.1;var t=this.image.width,i=t/this.aspectRatio;i>this.image.height&&(t=(i=this.image.height)*this.aspectRatio);var e=(this.image.width-t)/2,s=(this.image.height-i)/2;this.sourceSize={x:e+2,y:s+2,width:t-4,height:i-4},this.width=this.size,this.hWidth=this.width/2,this.height=this.width/this.aspectRatio,this.hHeight=this.height/2,this.destinationSize={x:this.x-this.hWidth,y:this.y-this.hHeight,width:this.width,height:this.height}}},{key:"setClipPaths",value:function(){var t=this.corner,i=this.slices;this.clipPaths=[],this.clipPathSize=this.destinationSize.height/i;for(var e=0;e<i;e++){var s=Math.max(e<i/2?t-e:e-(i-t-1),0),h=this.clipPathSize*s;this.clipPaths.push({y:this.clipPathSize*e,width:this.destinationSize.width-h})}}},{key:"animate",value:function(){var t=h.w$.timeline({onComplete:this.destroy.bind(this)});t.from(this.clipPaths,{width:0,duration:.8,ease:"power3.inOut",stagger:{amount:.4,from:Math.round(this.slices/2)}},0),t.to(this.clipPaths,{width:0,duration:.8,ease:"power3.inOut",stagger:{amount:0,from:Math.round(this.slices/2)}},1.2),t.to(this,{visibility:.25,duration:.6,ease:"linear"},.8),this.parent.isSleeping&&t.timeScale(.75)}},{key:"move",value:function(){if(this.isLoaded){this.x+=this.vx,this.y+=this.vy,this.vx*=.95,this.vy*=.95;var t=this.parent.scroll.y-this.scrollY;this.destinationSize.x=this.x-this.hWidth,this.destinationSize.y=this.y-this.hHeight-1.5*t}}},{key:"draw",value:function(){var t=this,i=this.isLoaded,e=this.image,s=this.parent.ctx,h=this.destinationSize,n=this.sourceSize;i&&(s.save(),s.beginPath(),this.clipPaths.forEach((function(i){var e=h.x+(h.width-i.width)/2,n=h.y+i.y,r=i.width,a=t.clipPathSize;s.rect(e,n,r,a)})),s.closePath(),s.clip(),s.filter="brightness(".concat(this.visibility,")"),s.globalAlpha=this.opacity,s.drawImage(e,n.x,n.y,n.width,n.height,h.x,h.y,h.width,h.height),s.restore())}},{key:"destroy",value:function(){var t=this;this.parent.images=this.parent.images.filter((function(i){return i!==t}))}}]),t}()}}]);